name: gcp
source: github.com/deis/rig-provider-deis
workflow-spec: github.com/deis/rig-flow-provision
description: |
  This file establishes how the workflow will be instantiated for a particular
  provider

init:
  vars:
    - name: GCP_AUTH_JSON_FILE
      question: "Enter the path to the Google Cloud Auth JSON file:"

up:
  script: ./create

down:
  script: ./destroy

check:
  script: ./check

test:
  script: ./test


tools:
  - name: helm
    type: cli
    install:
      method: curlbash
      url: http://get.helm.sh
  - name: google-cloud-sdk
    type: cli
    install:
      method: curlbash
      url: http://get.google.com
      env:
        - GOOGLE_SDK_VAR1
        - GOOGLE_SDK_VAR2
      path:
        - ${RIGGER_TOOL_DIR}/bin
